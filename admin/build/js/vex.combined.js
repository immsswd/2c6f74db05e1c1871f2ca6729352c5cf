!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).vex=e()}}(function(){return function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,o=arguments.length;for(n=0;n<o;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},s=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(r.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==a(this,e)},l.add=function(){var e,t=arguments,n=0,o=t.length,i=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),i=!0)}while(++n<o);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,o=0,i=n.length,r=!1;do{for(e=n[o]+"",t=a(this,e);-1!==t;)this.splice(t,1),r=!0,t=a(this,e)}while(++o<i);r&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),o=n?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self))},{}],2:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o)return(c=t.createElement("html")).innerHTML=e,c.removeChild(c.lastChild);var i=r[o]||r._default,a=i[0],s=i[1],l=i[2],c=t.createElement("div");for(c.innerHTML=s+e+l;a--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(var u=t.createDocumentFragment();c.firstChild;)u.appendChild(c.removeChild(c.firstChild));return u};var o,i=!1;"undefined"!=typeof document&&((o=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"],r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"],r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,n){"use strict";function o(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(void 0!==i&&null!==i)for(var r=Object.keys(Object(i)),a=0,s=r.length;a<s;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}t.exports={assign:o,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}}},{}],4:[function(e,t,n){function o(e){var t=[],n=/^([^\[\]]*)/,o=new RegExp(c),i=n.exec(e);for(i[1]&&t.push(i[1]);null!==(i=o.exec(e));)t.push(i[1]);return t}function i(e,t,n){if(0===t.length)return e=n;var o=t.shift(),r=o.match(/^\[(.+?)\]$/);if("[]"===o)return e=e||[],Array.isArray(e)?e.push(i(null,t,n)):(e._values=e._values||[],e._values.push(i(null,t,n))),e;if(r){var a=r[1],s=+a;isNaN(s)?(e=e||{})[a]=i(e[a],t,n):(e=e||[])[s]=i(e[s],t,n)}else e[o]=i(e[o],t,n);return e}function r(e,t,n){if(t.match(c))i(e,o(t),n);else{var r=e[t];r?(Array.isArray(r)||(e[t]=[r]),e[t].push(n)):e[t]=n}return e}function a(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=encodeURIComponent(n),n=n.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}var s=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,c=/(\[[^\[\]]*\])/g;t.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var n=t.hash?{}:"",o=t.serializer||(t.hash?r:a),i=e&&e.elements?e.elements:[],c=Object.create(null),u=0;u<i.length;++u){var d=i[u];if((t.disabled||!d.disabled)&&d.name&&l.test(d.nodeName)&&!s.test(d.type)){var f=d.name,p=d.value;if("checkbox"!==d.type&&"radio"!==d.type||d.checked||(p=void 0),t.empty){if("checkbox"!==d.type||d.checked||(p=""),"radio"===d.type&&(c[d.name]||d.checked?d.checked&&(c[d.name]=!0):c[d.name]=!1),!p&&"radio"==d.type)continue}else if(!p)continue;if("select-multiple"!==d.type)n=o(n,f,p);else{p=[];for(var h=d.options,v=!1,m=0;m<h.length;++m){var g=h[m],y=t.empty&&!g.value,b=g.value||y;g.selected&&b&&(v=!0,n=t.hash&&"[]"!==f.slice(f.length-2)?o(n,f+"[]",g.value):o(n,f,g.value))}!v&&t.empty&&(n=o(n,f,""))}}}if(t.empty)for(var f in c)c[f]||(n=o(n,f,""));return n}},{}],5:[function(e,t,n){(function(o){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else{("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this).vexDialog=e()}}(function(){return function t(n,o,i){function r(s,l){if(!o[s]){if(!n[s]){var c="function"==typeof e&&e;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return r(t||e)},d,d.exports,t,n,o,i)}return o[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o)return(c=t.createElement("html")).innerHTML=e,c.removeChild(c.lastChild);var i=r[o]||r._default,a=i[0],s=i[1],l=i[2],c=t.createElement("div");for(c.innerHTML=s+e+l;a--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(var u=t.createDocumentFragment();c.firstChild;)u.appendChild(c.removeChild(c.firstChild));return u};var o,i=!1;"undefined"!=typeof document&&((o=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"],r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"],r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],2:[function(e,t,n){function o(e){var t=[],n=/^([^\[\]]*)/,o=new RegExp(c),i=n.exec(e);for(i[1]&&t.push(i[1]);null!==(i=o.exec(e));)t.push(i[1]);return t}function i(e,t,n){if(0===t.length)return e=n;var o=t.shift(),r=o.match(/^\[(.+?)\]$/);if("[]"===o)return e=e||[],Array.isArray(e)?e.push(i(null,t,n)):(e._values=e._values||[],e._values.push(i(null,t,n))),e;if(r){var a=r[1],s=+a;isNaN(s)?(e=e||{})[a]=i(e[a],t,n):(e=e||[])[s]=i(e[s],t,n)}else e[o]=i(e[o],t,n);return e}function r(e,t,n){if(t.match(c))i(e,o(t),n);else{var r=e[t];r?(Array.isArray(r)||(e[t]=[r]),e[t].push(n)):e[t]=n}return e}function a(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=encodeURIComponent(n),n=n.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}var s=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,c=/(\[[^\[\]]*\])/g;t.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var n=t.hash?{}:"",o=t.serializer||(t.hash?r:a),i=e&&e.elements?e.elements:[],c=Object.create(null),u=0;u<i.length;++u){var d=i[u];if((t.disabled||!d.disabled)&&d.name&&l.test(d.nodeName)&&!s.test(d.type)){var f=d.name,p=d.value;if("checkbox"!==d.type&&"radio"!==d.type||d.checked||(p=void 0),t.empty){if("checkbox"!==d.type||d.checked||(p=""),"radio"===d.type&&(c[d.name]||d.checked?d.checked&&(c[d.name]=!0):c[d.name]=!1),!p&&"radio"==d.type)continue}else if(!p)continue;if("select-multiple"!==d.type)n=o(n,f,p);else{p=[];for(var h=d.options,v=!1,m=0;m<h.length;++m){var g=h[m],y=t.empty&&!g.value,b=g.value||y;g.selected&&b&&(v=!0,n=t.hash&&"[]"!==f.slice(f.length-2)?o(n,f+"[]",g.value):o(n,f,g.value))}!v&&t.empty&&(n=o(n,f,""))}}}if(t.empty)for(var f in c)c[f]||(n=o(n,f,""));return n}},{}],3:[function(e,t,n){var o=e("domify"),i=e("form-serialize"),r=function(e){var t=document.createElement("form");t.classList.add("vex-dialog-form");var n=document.createElement("div");n.classList.add("vex-dialog-message"),n.appendChild(e.message instanceof window.Node?e.message:o(e.message));var i=document.createElement("div");return i.classList.add("vex-dialog-input"),i.appendChild(e.input instanceof window.Node?e.input:o(e.input)),t.appendChild(n),t.appendChild(i),t},a=function(e){var t=document.createElement("div");t.classList.add("vex-dialog-buttons");for(var n=0;n<e.length;n++){var o=e[n],i=document.createElement("button");i.type=o.type,i.textContent=o.text,i.className=o.className,i.classList.add("vex-dialog-button"),0===n?i.classList.add("vex-first"):n===e.length-1&&i.classList.add("vex-last"),function(e){i.addEventListener("click",function(t){e.click&&e.click.call(this,t)}.bind(this))}.bind(this)(o),t.appendChild(i)}return t};t.exports=function(e){var t={name:"dialog",open:function(t){var n=Object.assign({},this.defaultOptions,t);n.unsafeMessage&&!n.message?n.message=n.unsafeMessage:n.message&&(n.message=e._escapeHtml(n.message));var o=n.unsafeContent=r(n),i=e.open(n),s=n.beforeClose&&n.beforeClose.bind(i);if(i.options.beforeClose=function(){var e=!s||s();return e&&n.callback(this.value||!1),e}.bind(i),o.appendChild(a.call(i,n.buttons)),i.form=o,o.addEventListener("submit",n.onSubmit.bind(i)),n.focusFirstInput){var l=i.contentEl.querySelector("button, input, select, textarea");l&&l.focus()}return i},alert:function(e){return"string"==typeof e&&(e={message:e}),e=Object.assign({},this.defaultOptions,this.defaultAlertOptions,e),this.open(e)},confirm:function(e){if("object"!=typeof e||"function"!=typeof e.callback)throw new Error("dialog.confirm(options) requires options.callback.");return e=Object.assign({},this.defaultOptions,this.defaultConfirmOptions,e),this.open(e)},prompt:function(t){if("object"!=typeof t||"function"!=typeof t.callback)throw new Error("dialog.prompt(options) requires options.callback.");var n=Object.assign({},this.defaultOptions,this.defaultPromptOptions),o={unsafeMessage:'<label for="vex">'+e._escapeHtml(t.label||n.label)+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+e._escapeHtml(t.placeholder||n.placeholder)+'" value="'+e._escapeHtml(t.value||n.value)+'" />'},i=(t=Object.assign(n,o,t)).callback;return t.callback=function(e){if("object"==typeof e){var t=Object.keys(e);e=t.length?e[t[0]]:""}i(e)},this.open(t)}};return t.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1,this.close()}}},t.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",buttons:[t.buttons.YES,t.buttons.NO],showCloseButton:!1,onSubmit:function(e){return e.preventDefault(),this.options.input&&(this.value=i(this.form,{hash:!0})),this.close()},focusFirstInput:!0},t.defaultAlertOptions={buttons:[t.buttons.YES]},t.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},t.defaultConfirmOptions={},t}},{domify:1,"form-serialize":2}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{domify:2,"form-serialize":4}],6:[function(e,t,n){var o=e("./vex");o.registerPlugin(e("vex-dialog")),t.exports=o},{"./vex":7,"vex-dialog":5}],7:[function(e,t,n){e("classlist-polyfill"),e("es6-object-assign").polyfill();var o=e("domify"),i=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},r=function(e,t){if("string"==typeof t&&0!==t.length)for(var n=t.split(" "),o=0;o<n.length;o++){var i=n[o];i.length&&e.classList.add(i)}},a=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}(),s={vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},l={},c=1,u=!1,d={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var n={};n.id=c++,l[n.id]=n,n.isOpen=!0,n.close=function(){function e(e){return"none"!==n.getPropertyValue(e+"animation-name")&&"0s"!==n.getPropertyValue(e+"animation-duration")}if(!this.isOpen)return!0;var t=this.options;if(u&&!t.escapeButtonCloses)return!1;if(!1===function(){return!t.beforeClose||t.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var n=window.getComputedStyle(this.contentEl),o=e("")||e("-webkit-")||e("-moz-")||e("-o-"),i=function e(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(a,e),this.overlayEl.removeEventListener(a,e),delete l[this.id],this.rootEl.parentNode.removeChild(this.rootEl),this.bodyEl.removeChild(this.overlayEl),t.afterClose&&t.afterClose.call(this),0===Object.keys(l).length&&document.body.classList.remove(s.open))}.bind(this);return a&&o?(this.rootEl.addEventListener(a,i),this.overlayEl.addEventListener(a,i),this.rootEl.classList.add(s.closing),this.overlayEl.classList.add(s.closing)):i(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=i(e.content));var f=n.options=Object.assign({},d.defaultOptions,e),p=n.bodyEl=document.getElementsByTagName("body")[0],h=n.rootEl=document.createElement("div");h.classList.add(s.vex),r(h,f.className);var v=n.overlayEl=document.createElement("div");v.classList.add(s.overlay),r(v,f.overlayClassName),f.overlayClosesOnClick&&h.addEventListener("click",function(e){e.target===h&&n.close()}),p.appendChild(v);var m=n.contentEl=document.createElement("div");if(m.classList.add(s.content),r(m,f.contentClassName),m.appendChild(f.content instanceof window.Node?f.content:o(f.content)),h.appendChild(m),f.showCloseButton){var g=n.closeEl=document.createElement("div");g.classList.add(s.close),r(g,f.closeClassName),g.addEventListener("click",n.close.bind(n)),m.appendChild(g)}return document.querySelector(f.appendLocation).appendChild(h),f.afterOpen&&f.afterOpen.call(n),document.body.classList.add(s.open),n},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!l[t]&&l[t].close()},closeTop:function(){var e=Object.keys(l);return!!e.length&&l[e[e.length-1]].close()},closeAll:function(){for(var e in l)this.close(e);return!0},getAll:function(){return l},getById:function(e){return l[e]}};window.addEventListener("keyup",function(e){27===e.keyCode&&(u=!0,d.closeTop(),u=!1)}),window.addEventListener("popstate",function(){d.defaultOptions.closeAllOnPopState&&d.closeAll()}),d.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(d,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:i}),d.registerPlugin=function(e,t){var n=e(d),o=t||n.name;if(d[o])throw new Error("Plugin "+t+" is already registered.");d[o]=n},t.exports=d},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[6])(6)});